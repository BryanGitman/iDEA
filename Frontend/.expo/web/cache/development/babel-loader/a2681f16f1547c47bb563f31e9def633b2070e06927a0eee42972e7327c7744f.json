{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport axios from 'axios';\nimport React, { useCallback, useEffect, useState, Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport * as SplashScreen from 'expo-splash-screen';\nimport * as Font from 'expo-font';\nimport AppLoading from 'expo-app-loading';\nimport Header from \"../components/Header\";\nimport List from \"../components/List\";\nimport * as Location from 'expo-location';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar PrimeraPantalla = function PrimeraPantalla(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    location = _useState2[0],\n    setLocation = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    errorMsg = _useState4[0],\n    setErrorMsg = _useState4[1];\n  var _useState5 = useState([{\n      \"Id\": 4,\n      \"Descripcion\": \"Edificio 1, planta baja al lado de las escaleras\",\n      \"Calle\": \"Yatay\",\n      \"Altura\": 240,\n      \"Nombre\": \"Escuela Ort\"\n    }, {\n      \"Id\": 5,\n      \"Descripcion\": \"Edificio 1, piso 2, al lado de coordinacion\",\n      \"Calle\": \"Yatay\",\n      \"Altura\": 240,\n      \"Nombre\": \"Escuela Ort\"\n    }, {\n      \"Id\": 1,\n      \"Descripcion\": \"Edificio 2, auditorio\",\n      \"Calle\": \"Rio de Janeiro\",\n      \"Altura\": 509,\n      \"Nombre\": \"Escuela Ort\"\n    }]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    firstDeas = _useState6[0],\n    setFirstDea = _useState6[1];\n  var config = {\n    headers: {\n      UserLocation: location\n    }\n  };\n  var getDEA = function getDEA() {\n    axios.get('/dea', config).then(function (res) {\n      setFirstDea(res.data);\n      setLoading(false);\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  };\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n        status = _yield$Location$reque.status;\n      if (status !== 'granted') {\n        setErrorMsg('Permission to access location was denied');\n        console.log(errorMsg);\n        return;\n      }\n      var location = yield Location.getCurrentPositionAsync({});\n      setLocation(location);\n    })();\n    getDEA();\n  }, []);\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(Header, {\n      navigation: navigation\n    }), _jsx(Text, {\n      style: {\n        margin: '3%',\n        fontWeight: 'bold',\n        color: '#FFF',\n        fontSize: 17\n      },\n      children: \"M\\xC1S CERCANOS:\"\n    }), _jsx(List, {\n      deas: firstDeas\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#FF0000',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\nexport default PrimeraPantalla;","map":{"version":3,"names":["axios","React","useCallback","useEffect","useState","Component","SplashScreen","Font","AppLoading","Header","List","Location","PrimeraPantalla","navigation","location","setLocation","errorMsg","setErrorMsg","firstDeas","setFirstDea","config","headers","UserLocation","getDEA","get","then","res","data","setLoading","catch","error","console","log","requestForegroundPermissionsAsync","status","getCurrentPositionAsync","styles","container","margin","fontWeight","color","fontSize","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent"],"sources":["C:/Users/devandroid/Desktop/iDEA/frontend/screens/PrimeraPantalla.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useCallback, useEffect, useState, Component } from 'react';\r\nimport { StyleSheet, Text, View, SafeAreaView } from 'react-native';\r\nimport * as SplashScreen from 'expo-splash-screen';\r\nimport * as Font from 'expo-font';\r\nimport AppLoading from 'expo-app-loading';\r\nimport Header from '../components/Header';\r\nimport List from '../components/List';\r\nimport * as Location from 'expo-location';\r\n\r\nconst PrimeraPantalla = ({navigation}) => \r\n{\r\n  const [location, setLocation] = useState(null);\r\n  const [errorMsg, setErrorMsg] = useState(null);\r\n\r\n  const [firstDeas, setFirstDea] = useState([{\"Id\":4,\"Descripcion\":\"Edificio 1, planta baja al lado de las escaleras\",\"Calle\":\"Yatay\",\"Altura\":240,\"Nombre\":\"Escuela Ort\"},{\"Id\":5,\"Descripcion\":\"Edificio 1, piso 2, al lado de coordinacion\",\"Calle\":\"Yatay\",\"Altura\":240,\"Nombre\":\"Escuela Ort\"},{\"Id\":1,\"Descripcion\":\"Edificio 2, auditorio\",\"Calle\":\"Rio de Janeiro\",\"Altura\":509,\"Nombre\":\"Escuela Ort\"}]);\r\n\r\n  const config = {\r\n    headers:{\r\n      UserLocation: location,\r\n    }\r\n  };\r\n\r\n  const getDEA = () => \r\n  {\r\n    axios.get('/dea', config).then(res => \r\n      {\r\n        setFirstDea(res.data);\r\n        setLoading(false);\r\n      }).catch(error => console.log(error));\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      let { status } = await Location.requestForegroundPermissionsAsync();\r\n      if (status !== 'granted') {\r\n        setErrorMsg('Permission to access location was denied');\r\n        console.log(errorMsg);\r\n        return;\r\n      }\r\n\r\n      let location = await Location.getCurrentPositionAsync({});\r\n      setLocation(location);\r\n    })();\r\n\r\n    getDEA();\r\n  }, []);\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <Header navigation={navigation}></Header>\r\n      <Text style={{margin: '3%', fontWeight: 'bold', color: '#FFF', fontSize: 17}}>M√ÅS CERCANOS:</Text>\r\n      <List deas={firstDeas}></List>\r\n    </SafeAreaView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#FF0000',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    //fontFamily: 'Poppins'\r\n  }\r\n});\r\n\r\nexport default PrimeraPantalla;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC;AAAA;AAAA;AAAA;AAE3E,OAAO,KAAKC,YAAY,MAAM,oBAAoB;AAClD,OAAO,KAAKC,IAAI,MAAM,WAAW;AACjC,OAAOC,UAAU,MAAM,kBAAkB;AACzC,OAAOC,MAAM;AACb,OAAOC,IAAI;AACX,OAAO,KAAKC,QAAQ,MAAM,eAAe;AAAC;AAAA;AAE1C,IAAMC,eAAe,GAAG,SAAlBA,eAAe,OACrB;EAAA,IAD0BC,UAAU,QAAVA,UAAU;EAElC,gBAAgCT,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAvCU,QAAQ;IAAEC,WAAW;EAC5B,iBAAgCX,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAvCY,QAAQ;IAAEC,WAAW;EAE5B,iBAAiCb,QAAQ,CAAC,CAAC;MAAC,IAAI,EAAC,CAAC;MAAC,aAAa,EAAC,kDAAkD;MAAC,OAAO,EAAC,OAAO;MAAC,QAAQ,EAAC,GAAG;MAAC,QAAQ,EAAC;IAAa,CAAC,EAAC;MAAC,IAAI,EAAC,CAAC;MAAC,aAAa,EAAC,6CAA6C;MAAC,OAAO,EAAC,OAAO;MAAC,QAAQ,EAAC,GAAG;MAAC,QAAQ,EAAC;IAAa,CAAC,EAAC;MAAC,IAAI,EAAC,CAAC;MAAC,aAAa,EAAC,uBAAuB;MAAC,OAAO,EAAC,gBAAgB;MAAC,QAAQ,EAAC,GAAG;MAAC,QAAQ,EAAC;IAAa,CAAC,CAAC,CAAC;IAAA;IAAxYc,SAAS;IAAEC,WAAW;EAE7B,IAAMC,MAAM,GAAG;IACbC,OAAO,EAAC;MACNC,YAAY,EAAER;IAChB;EACF,CAAC;EAED,IAAMS,MAAM,GAAG,SAATA,MAAM,GACZ;IACEvB,KAAK,CAACwB,GAAG,CAAC,MAAM,EAAEJ,MAAM,CAAC,CAACK,IAAI,CAAC,UAAAC,GAAG,EAChC;MACEP,WAAW,CAACO,GAAG,CAACC,IAAI,CAAC;MACrBC,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,CAACC,KAAK,CAAC,UAAAC,KAAK;MAAA,OAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAAA,EAAC;EACzC,CAAC;EAED3B,SAAS,CAAC,YAAM;IACd,kBAAC,aAAY;MACX,kCAAuBQ,QAAQ,CAACsB,iCAAiC,EAAE;QAA7DC,MAAM,yBAANA,MAAM;MACZ,IAAIA,MAAM,KAAK,SAAS,EAAE;QACxBjB,WAAW,CAAC,0CAA0C,CAAC;QACvDc,OAAO,CAACC,GAAG,CAAChB,QAAQ,CAAC;QACrB;MACF;MAEA,IAAIF,QAAQ,SAASH,QAAQ,CAACwB,uBAAuB,CAAC,CAAC,CAAC,CAAC;MACzDpB,WAAW,CAACD,QAAQ,CAAC;IACvB,CAAC,GAAG;IAEJS,MAAM,EAAE;EACV,CAAC,EAAE,EAAE,CAAC;EAEN,OACE,MAAC,YAAY;IAAC,KAAK,EAAEa,MAAM,CAACC,SAAU;IAAA,WACpC,KAAC,MAAM;MAAC,UAAU,EAAExB;IAAW,EAAU,EACzC,KAAC,IAAI;MAAC,KAAK,EAAE;QAACyB,MAAM,EAAE,IAAI;QAAEC,UAAU,EAAE,MAAM;QAAEC,KAAK,EAAE,MAAM;QAAEC,QAAQ,EAAE;MAAE,CAAE;MAAA,UAAC;IAAa,EAAO,EAClG,KAAC,IAAI;MAAC,IAAI,EAAEvB;IAAU,EAAQ;EAAA,EACjB;AAEnB,CAAC;AAED,IAAMkB,MAAM,GAAGM,UAAU,CAACC,MAAM,CAAC;EAC/BN,SAAS,EAAE;IACTO,IAAI,EAAE,CAAC;IACPC,eAAe,EAAE,SAAS;IAC1BC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;EAElB;AACF,CAAC,CAAC;AAEF,eAAenC,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}